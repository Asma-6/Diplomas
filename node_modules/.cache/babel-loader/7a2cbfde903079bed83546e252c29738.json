{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Documents\\\\Asma\\\\PFA\\\\salma\\\\app2\\\\Back\\\\src\\\\Components\\\\Demandes\\\\Content.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Box from '@material-ui/core/Box';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { makeStyles } from '@material-ui/styles';\nimport { DataGrid, useGridSlotComponentProps } from '@material-ui/data-grid';\nimport Pagination from '@material-ui/lab/Pagination';\nimport userService from \"../../Services/userService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst styles = theme => ({\n  paper: {\n    maxWidth: 940,\n    margin: 'auto',\n    overflow: 'hidden'\n  },\n  searchBar: {\n    borderBottom: '1px solid rgba(0, 0, 0, 0.12)'\n  },\n  searchInput: {\n    fontSize: theme.typography.fontSize\n  },\n  block: {\n    display: 'block'\n  },\n  newDemands: {\n    marginRight: theme.spacing(1),\n    padding: theme.spacing(0.5, 1.5),\n    background: '#4fc3f7',\n    '&:hover': {\n      background: \"#3A7BAF\"\n    },\n    color: theme.palette.common.white\n  },\n  contentWrapper: {\n    margin: '20px 16px'\n  }\n  /* MuiDataGrid: {\r\n    root: {\r\n      '& .MuiDataGrid-row.Mui-even:not(:hover)': {\r\n        backgroundColor: theme.palette.type === 'light' ? 'red' : 'blue',\r\n      },\r\n    },\r\n  } */\n\n});\n\nconst columns = [{\n  field: 'id',\n  headerName: 'N°',\n  headerClassName: 'super-app-theme--header'\n}, {\n  field: 'type',\n  headerName: 'Type',\n  width: 110,\n  editable: true\n}, {\n  field: 'date',\n  headerName: 'Date',\n  width: 110,\n  editable: true\n}, {\n  field: 'fullName',\n  headerName: 'Faite par',\n  width: 160,\n  editable: true\n}, {\n  field: 'apogee',\n  headerName: 'Apogée',\n  width: 130,\n  editable: true\n}, {\n  field: 'cin',\n  headerName: 'CIN',\n  width: 110,\n  editable: true\n}, {\n  field: 'dossier',\n  headerName: ' ',\n  sortable: false,\n  width: 110\n}];\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex'\n  }\n});\n\nfunction CustomPagination() {\n  _s();\n\n  const {\n    state,\n    apiRef\n  } = useGridSlotComponentProps();\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(Pagination, {\n    className: classes.root //color=\"primary\"\n    ,\n    count: state.pagination.pageCount,\n    page: state.pagination.page + 1,\n    onChange: (event, value) => apiRef.current.setPage(value - 1)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CustomPagination, \"gf2qYnidDJcn0QA0NABAMUoYHe0=\", false, function () {\n  return [useGridSlotComponentProps, useStyles];\n});\n\n_c = CustomPagination;\n\nfunction Content(props) {\n  _s2();\n\n  const {\n    classes\n  } = props;\n  const [demandes, setDemandes] = useState();\n  const [pageSize, setPageSize] = useState(5);\n\n  const row = /*#__PURE__*/_jsxDEV(Button, {\n    children: \"Cr\\xE9er dossier\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 15\n  }, this);\n\n  const data = demandes === null || demandes === void 0 ? void 0 : demandes.map(demande => ({\n    id: demande[1].id,\n    type: demande[1].type_demande,\n    date: demande[1].date_demande,\n    fullName: demande[1].etudiant.nom + ' ' + demande[1].etudiant.prenom,\n    apogee: demande[1].etudiant.apogee,\n    cin: demande[1].etudiant_cin,\n    dossier: row\n  }));\n  useEffect(() => {\n    /* async function getAllDemandes() {\r\n      await userService.getAllDemandes().then((response) => {\r\n        setDemandes(Object.entries(response?.data));\r\n      });\r\n    }\r\n    getAllDemandes(); */\n    async function filterDemandes() {\n      await userService.filterDemandes(\"DEUG\", \"القانون باللغة العربية\").then(response => {\n        setDemandes(response === null || response === void 0 ? void 0 : response.data.demandes);\n      });\n    }\n\n    filterDemandes();\n  }, []);\n\n  const handleLoad = () => {\n    window.location.reload(Content);\n  };\n\n  const handleNewDemands = () => {\n    userService.getNewDemandes();\n  };\n  /* demandes?.map((demande) => console.log(\r\n    { id: demande[1].id, type: demande[1].type_demande, date: demande[1].date_demande,\r\n     fullName: demande[1].etudiant.nom + ' ' + demande[1].etudiant.prenom,\r\n     apogee: demande[1].etudiant.apogee, cin: demande[1].etudiant_cin }\r\n  ));  */\n\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    className: classes.paper,\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      className: classes.searchBar,\n      position: \"static\",\n      color: \"default\",\n      elevation: 0,\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n              className: classes.block,\n              color: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: true,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              placeholder: \"Chercher par Apog\\xE9e, CIN ou CNE ...\",\n              fontWeight: \"fontWeightBold\",\n              InputProps: {\n                disableUnderline: true,\n                className: classes.searchInput\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              className: classes.newDemands,\n              onClick: handleNewDemands,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                fontWeight: \"fontWeightBold\",\n                children: \"Nouvelles demandes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Recharger\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: handleLoad,\n                children: /*#__PURE__*/_jsxDEV(RefreshIcon, {\n                  className: classes.block,\n                  color: \"inherit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.contentWrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: 375,\n          width: '100%'\n        },\n        className: classes.MuiDataGrid,\n        children: /*#__PURE__*/_jsxDEV(DataGrid, {\n          rows: data ? data : [],\n          columns: columns,\n          sortModel: [{\n            field: 'date',\n            sort: 'desc'\n          }],\n          checkboxSelection: true,\n          disableSelectionOnClick: true,\n          pageSize: pageSize,\n          onPageSizeChange: newPageSize => setPageSize(newPageSize),\n          rowsPerPageOptions: [5, 7, 10],\n          components: {\n            Pagination: CustomPagination\n          },\n          pagination: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Content, \"S5LTYapo6hR3vwK+ww1naPSww6I=\");\n\n_c2 = Content;\nContent.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Content);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CustomPagination\");\n$RefreshReg$(_c2, \"Content\");","map":{"version":3,"sources":["C:/Users/PC/Documents/Asma/PFA/salma/app2/Back/src/Components/Demandes/Content.js"],"names":["React","useState","useEffect","PropTypes","AppBar","Toolbar","Paper","Grid","Button","TextField","Tooltip","IconButton","withStyles","SearchIcon","Box","RefreshIcon","makeStyles","DataGrid","useGridSlotComponentProps","Pagination","userService","styles","theme","paper","maxWidth","margin","overflow","searchBar","borderBottom","searchInput","fontSize","typography","block","display","newDemands","marginRight","spacing","padding","background","color","palette","common","white","contentWrapper","columns","field","headerName","headerClassName","width","editable","sortable","useStyles","root","CustomPagination","state","apiRef","classes","pagination","pageCount","page","event","value","current","setPage","Content","props","demandes","setDemandes","pageSize","setPageSize","row","data","map","demande","id","type","type_demande","date","date_demande","fullName","etudiant","nom","prenom","apogee","cin","etudiant_cin","dossier","filterDemandes","then","response","handleLoad","window","location","reload","handleNewDemands","getNewDemandes","disableUnderline","className","height","MuiDataGrid","sort","newPageSize","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Box from '@material-ui/core/Box';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { DataGrid, useGridSlotComponentProps } from '@material-ui/data-grid';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport userService from \"../../Services/userService\";\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    maxWidth: 940,\r\n    margin: 'auto',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBar: {\r\n    borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\r\n  },\r\n  searchInput: {\r\n    fontSize: theme.typography.fontSize,\r\n  },\r\n  block: {\r\n    display: 'block',\r\n  },\r\n  newDemands: {\r\n    marginRight: theme.spacing(1),\r\n    padding: theme.spacing(0.5, 1.5),\r\n    background: '#4fc3f7',\r\n    '&:hover': {\r\n      background: \"#3A7BAF\",\r\n    },\r\n    color: theme.palette.common.white,\r\n  },\r\n  contentWrapper: {\r\n    margin: '20px 16px',\r\n  },\r\n  /* MuiDataGrid: {\r\n    root: {\r\n      '& .MuiDataGrid-row.Mui-even:not(:hover)': {\r\n        backgroundColor: theme.palette.type === 'light' ? 'red' : 'blue',\r\n      },\r\n    },\r\n  } */\r\n});\r\n\r\nconst columns = [\r\n  { field: 'id', headerName: 'N°', headerClassName: 'super-app-theme--header', },\r\n  {\r\n    field: 'type',\r\n    headerName: 'Type',\r\n    width: 110,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'date',\r\n    headerName: 'Date',\r\n    width: 110,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'fullName',\r\n    headerName: 'Faite par',\r\n    width: 160,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'apogee',\r\n    headerName: 'Apogée',\r\n    width: 130,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'cin',\r\n    headerName: 'CIN',\r\n    width: 110,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'dossier',\r\n    headerName: ' ',\r\n    sortable: false,\r\n    width: 110,\r\n  },\r\n];\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n});\r\n\r\nfunction CustomPagination() {\r\n  const { state, apiRef } = useGridSlotComponentProps();\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Pagination\r\n      className={classes.root}\r\n      //color=\"primary\"\r\n      count={state.pagination.pageCount}\r\n      page={state.pagination.page + 1}\r\n      onChange={(event, value) => apiRef.current.setPage(value - 1)}\r\n    />\r\n  );\r\n}\r\n\r\n\r\nfunction Content(props) {\r\n  const { classes } = props;\r\n  const [demandes, setDemandes] = useState();\r\n  const [pageSize, setPageSize] = useState(5);\r\n  const row = <Button>Créer dossier</Button>;\r\n  const data = demandes?.map((demande) => (\r\n    { id: demande[1].id, type: demande[1].type_demande, date: demande[1].date_demande,\r\n       fullName: demande[1].etudiant.nom + ' ' + demande[1].etudiant.prenom,\r\n       apogee: demande[1].etudiant.apogee, cin: demande[1].etudiant_cin,\r\n       dossier: row}\r\n    ));\r\n\r\n  useEffect(() => {\r\n      /* async function getAllDemandes() {\r\n        await userService.getAllDemandes().then((response) => {\r\n          setDemandes(Object.entries(response?.data));\r\n        });\r\n      }\r\n      getAllDemandes(); */\r\n      async function filterDemandes() {\r\n        await userService.filterDemandes(\"DEUG\",\"القانون باللغة العربية\").then((response) => {\r\n          setDemandes(response?.data.demandes);\r\n        });\r\n      }\r\n      filterDemandes();\r\n    }, []);\r\n\r\n  const handleLoad = () => {\r\n    window.location.reload(Content);\r\n  };\r\n\r\n  const handleNewDemands = () => {\r\n    userService.getNewDemandes();\r\n  };\r\n\r\n    /* demandes?.map((demande) => console.log(\r\n      { id: demande[1].id, type: demande[1].type_demande, date: demande[1].date_demande,\r\n       fullName: demande[1].etudiant.nom + ' ' + demande[1].etudiant.prenom,\r\n       apogee: demande[1].etudiant.apogee, cin: demande[1].etudiant_cin }\r\n    ));  */\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <AppBar className={classes.searchBar} position=\"static\" color=\"default\" elevation={0}>\r\n        <Toolbar>\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item>\r\n              <SearchIcon className={classes.block} color=\"inherit\" />\r\n            </Grid>\r\n            <Grid item xs>\r\n              <TextField\r\n                fullWidth\r\n                placeholder=\"Chercher par Apogée, CIN ou CNE ...\"\r\n                fontWeight=\"fontWeightBold\"\r\n                InputProps={{\r\n                  disableUnderline: true,\r\n                  className: classes.searchInput,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <Button variant=\"contained\" className={classes.newDemands} onClick={handleNewDemands}>\r\n                <Box fontWeight=\"fontWeightBold\">Nouvelles demandes</Box>\r\n              </Button>\r\n              <Tooltip title=\"Recharger\">\r\n                <IconButton onClick={handleLoad}>\r\n                  <RefreshIcon className={classes.block} color=\"inherit\"/>\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className={classes.contentWrapper}>\r\n      \r\n\r\n\r\n\r\n    <div style={{ height: 375, width: '100%' }} className={classes.MuiDataGrid}>\r\n      <DataGrid\r\n        rows={data?data:[]}\r\n        columns={columns}\r\n        sortModel={[\r\n          { field: 'date', sort: 'desc' },\r\n        ]}\r\n        checkboxSelection\r\n        disableSelectionOnClick\r\n        pageSize={pageSize}\r\n        onPageSizeChange={(newPageSize) => setPageSize(newPageSize)}\r\n        rowsPerPageOptions={[5, 7, 10]}\r\n        components={{\r\n          Pagination: CustomPagination,\r\n        }}\r\n        pagination\r\n      />\r\n    </div>\r\n \r\n\r\n        {/* <Typography color=\"textSecondary\" align=\"center\">\r\n          Pas encore de demandes\r\n        </Typography> */}\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nContent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Content);"]},"metadata":{},"sourceType":"module"}